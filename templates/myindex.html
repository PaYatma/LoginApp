<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Regulatory Documents</title>

    <!-- Table style -->
    <script type="text/javascript" charset="utf8" src="//code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" charset="utf8" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.12.1/js/dataTables.bootstrap.min.js"></script>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap.min.css">


  </head>
<body>  
  <div class="logo"><a href="#"><img src="../static/logo.png" width="300" height="60"></a></div>
  <nav style="box-shadow: 0px 2px 5px rgb(119, 119, 119)">
    <ul>
      <li><a href="{{url_for('home')}}"><i class="fa fa-fw fa-home"></i></i>Home</a></li>
      <li><a class="current" href="{{url_for('dashboard')}}"><i class="fa fa-database"></i> Database</a></li>
      <li><a href="{{url_for('profile')}}"><i class="fa fa-fw fa-user"></i>Profile</a></li>    
      <li><a href="{{url_for('logout')}}"><i class="fa fa-fw fa-sign-out"></i>Logout</a></li>
    </ul>
  </nav>
    <div class="container" id="my_tab" style="width:1400px; height:800px; padding-top: 20px;">
          <table id="data" class="table">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Code</th>
                    <th>Country</th>
                    <th>Study</th>
                    <th>Submission</th>
                    <th>Documents</th>
                    <th>Note</th>
                    <th>Tag</th>
                    <th>Created</th>
                </tr>
            </thead>
            
            <tfoot>
                <tr>
                  <th>ID</th>
                  <th>Code</th>
                  <th>Country</th>
                  <th>Study</th>
                  <th>Submission</th>
                  <th>Documents</th>
                  <th>Note</th>
                  <th>Tag</th>
                  <th>Created</th>
                </tr>
            </tfoot>
          </table>
    </div>

<script>
    
      $(document).ready(function() {  

        $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
        $.fn.dataTable.tables({ visible: true, api: true }).columns.adjust();
        });

        // Setup - add a text input to each footer cell
        $('#data tfoot th').each( function (i) {
            var title = $('#data thead th').eq( $(this).index() ).text();
            $(this).html( '<input type="text" placeholder="'+title+'" data-index="'+i+'" />' );
        } );

        // DataTable
        var table = $('#data').DataTable({ 
            "autoWidth": false,
            scrollY: "600px",
            scrollX:true,
            'lengthMenu': [[10, 25, 50, 75, 100, 2**32], [10, 25, 50, 75, 100, "All"]],  // 32 bytes integer => the higest integer of our machine
            'dom': 'lBfrtip',
            buttons: ['copy', 'csv', 'excel', 'pdf', 'print'],
            'processing': true,
            'serverMethod': 'post',
            'ajax': {
                'url':'/api'
                },
            'serverSide': true,
            'columns': [
                {data:'ID'},
                {data:'Code'},
                {data:'Country'},
                {data:'Study'},
                {data:'Submission'},
                {data:'Documents', orderable:false},
                {data:'Note', orderable:false},
                {data:'Tag'},
                {data:'Created'},
                ],
            });

        // Filter event handler
        $( table.table().container() ).on('keyup', 'tfoot input', function () {
            table
                .column( $(this).data('index') )
                .search( this.value )
                .draw();
        });

  });        

  </script>
</body>
</html>


