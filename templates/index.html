<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Regulatory Documents</title>

    <link rel="stylesheet" type="text/css"  href="//cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.11.5/css/dataTables.bootstrap5.css">

    <!-- Table filter -->
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/fixedcolumns/4.0.2/css/fixedColumns.dataTables.min.css">

    <!-- Table style -->
    <script type="text/javascript" charset="utf8" src="//code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.js"></script>

    <!-- Table style -->
    <script type="text/javascript" charset="utf8" src="//code.jquery.com/jquery-3.5.1.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/fixedcolumns/4.0.2/js/dataTables.fixedColumns.min.js"></script>

    <!-- Exportation -->
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>   
     
    <link rel="stylesheet" href="{{url_for('.static', filename='index.css')}}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


  </head>
<body>  
  <div class="logo"><a href="#"><img src="../static/logo.png" width="300" height="60"></a></div>
  <nav style="box-shadow: 0px 2px 5px rgb(119, 119, 119)">
    <ul>
      <li><a href="{{url_for('home')}}"><i class="fa fa-fw fa-home"></i></i>Home</a></li>
      <li><a class="current" href="{{url_for('dashboard')}}"><i class="fa fa-files-o"></i> Documents</a></li>
      <li><a href="{{url_for('profile')}}"><i class="fa fa-fw fa-user"></i>Profile</a></li>    
      <li><a href="{{url_for('logout')}}"><i class="fa fa-fw fa-sign-out"></i>Logout</a></li>
    </ul>
  </nav>
    <div class="container" id="my_tab" style="width:1400px; height:800px;">
          <table id="data" class="table" style="width: 100%;">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Code</th>
                    <th>Country</th>
                    <th>Study</th>
                    <th>Tag</th>
                    <th>Created</th>
                    <th>Submission</th>
                    <th>Documents</th>
                    <th>Note</th>
                </tr>
            </thead>
            
            <tfoot>
                <tr>
                    <th>ID</th>
                    <th>Code</th>
                    <th>Country</th>
                    <th>Study</th>
                    <th>Tag</th>
                    <th>Created</th>
                    <th>Submission</th>
                    <th>Documents</th>
                    <th>Note</th>
                </tr>
            </tfoot>
          </table>
    </div>

<script>
      $(document).ready(function() {  

        // Setup - add a text input to each footer cell
        $('#data tfoot th').each( function (i) {
            var title = $('#data thead th').eq( $(this).index() ).text();
            $(this).html( '<input type="text" placeholder="'+title+'" data-index="'+i+'" />' );
        } );

        // DataTable
        var table = $('#data').DataTable({ 
            "autoWidth": false,
            scrollY: "640px",
            scrollX:true,
            'lengthMenu': [[10, 25, 50, 75, 100, 2**32], [10, 25, 50, 75, 100, "All"]],  // 32 bytes integer => the higest integer of our machine
            'dom': 'lBfrtip',
            buttons: ['copy', 'csv', 'excel', 'pdf', 'print'],
            'processing': true,
            'serverMethod': 'post',
            'ajax': {
                'url':'/api'
                },
            'serverSide': true,
            'columns': [
                {data:'ID'},
                {data:'Code'},
                {data:'Country'},
                {data:'Study'},
                {data:'Tag'},
                {data:'Created'},
                {data:'Submission'},
                {data:'Documents', orderable:false},
                {data:'Note', orderable:false},
                ],
            });

        // Filter event handler
        $( table.table().container() ).on( 'keyup', 'tfoot input', function () {
            table
                .column( $(this).data('index') )
                .search( this.value )
                .draw();
        } );
      });        
    </script>
  </body>
  </html>


